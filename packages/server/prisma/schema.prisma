

generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql" 
}
model Product {  
  @@map("products")
  id Int @id @default(autoincrement())
  name String
  description String?
  price Float 
  reviews Review[] 
  summary Summary?
}

model Review { 
  @@map("reviews")
  id Int @id @default(autoincrement())
  author String 
  rating Int @db.SmallInt
  content String 
  createdAt DateTime @default(now()) 
  productId Int
  product Product @relation(fields: [productId], references: [id])
}

model Summary{
    @@map("summaries")
    id Int @id @default(autoincrement())
    productId Int @unique
    product Product @relation(fields: [productId], references: [id])
    content String 
    genratedAt DateTime @default(now())
    expiresAt DateTime
}